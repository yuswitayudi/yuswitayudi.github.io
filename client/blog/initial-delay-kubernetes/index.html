<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Initial Delay Kubernetes · AWNESIA</title><script>
      if (
        localStorage.getItem("color-theme") === "dark" ||
        (!("color-theme" in localStorage) &&
          window.matchMedia("(prefers-color-scheme: dark)").matches)
      ) {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }
    </script><link rel="stylesheet" href="/_astro/about.CEpY85dL.css"><script>window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
		var script = document.createElement('script');
		script.defer = true;
		script.src = '/_vercel/insights/script.js';
		var head = document.querySelector('head');
		head.appendChild(script);
	</script></head> <body class="bg-gray-50 text-slate-900 dark:bg-slate-950 dark:text-slate-50 antialiased selection:bg-blue-100 transition-colors duration-300"> <main class="min-h-screen px-4 py-8 md:px-6"> <div class="max-w-5xl mx-auto"> <header class="flex items-center justify-between gap-6 mb-10 border-b border-slate-200 dark:border-slate-800 pb-6"> <div class="flex items-center gap-6"> <a href="/" class="font-bold text-xl tracking-tight hover:text-blue-600 dark:hover:text-blue-400 transition-colors"> AWNESIA </a> <nav class="hidden md:flex items-center gap-6 text-sm font-medium text-slate-600 dark:text-slate-400"> <a class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors" href="/">Home</a> <a class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors" href="/blog">Blog</a> <a class="hover:text-blue-600 dark:hover:text-blue-400 transition-colors" href="/about">About</a> </nav> </div> <div class="flex items-center gap-4"> <nav class="md:hidden flex items-center gap-4 text-xs font-medium text-slate-600 dark:text-slate-400"> <a href="/">Home</a> <a href="/blog">Blog</a> </nav> <button id="theme-toggle" type="button" class="inline-flex items-center p-2 text-sm font-medium text-slate-600 dark:text-slate-400 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-800 focus:outline-none transition-colors" aria-label="Toggle theme"> <svg id="theme-toggle-dark-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path> </svg> <svg id="theme-toggle-light-icon" class="hidden w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"></path> </svg> </button> <script>
  const initTheme = () => {
    const themeToggleDarkIcon = document.getElementById(
      "theme-toggle-dark-icon",
    );
    const themeToggleLightIcon = document.getElementById(
      "theme-toggle-light-icon",
    );
    const themeToggleBtn = document.getElementById("theme-toggle");

    if (!themeToggleBtn) return;

    // Set icons based on current theme
    if (
      localStorage.getItem("color-theme") === "dark" ||
      (!("color-theme" in localStorage) &&
        window.matchMedia("(prefers-color-scheme: dark)").matches)
    ) {
      themeToggleLightIcon?.classList.remove("hidden");
      themeToggleDarkIcon?.classList.add("hidden");
      document.documentElement.classList.add("dark");
    } else {
      themeToggleDarkIcon?.classList.remove("hidden");
      themeToggleLightIcon?.classList.add("hidden");
      document.documentElement.classList.remove("dark");
    }

    // Remove existing listener to avoid multiples
    themeToggleBtn.replaceWith(themeToggleBtn.cloneNode(true));
    const newBtn = document.getElementById("theme-toggle");

    newBtn?.addEventListener("click", function () {
      // toggle icons inside button
      const darkIcon = document.getElementById("theme-toggle-dark-icon");
      const lightIcon = document.getElementById("theme-toggle-light-icon");
      darkIcon?.classList.toggle("hidden");
      lightIcon?.classList.toggle("hidden");

      if (document.documentElement.classList.contains("dark")) {
        document.documentElement.classList.remove("dark");
        localStorage.setItem("color-theme", "light");
      } else {
        document.documentElement.classList.add("dark");
        localStorage.setItem("color-theme", "dark");
      }
    });
  };

  // Run on initial load
  initTheme();

  // Run after every page swap (for View Transitions)
  document.addEventListener("astro:after-swap", initTheme);
</script> </div> </header>  <article class="max-w-3xl mx-auto"> <a href="/blog" class="inline-flex items-center text-sm font-semibold text-blue-600 dark:text-blue-400 mb-8 hover:text-blue-700 dark:hover:text-blue-300 transition"> <span class="mr-1">←</span> Back to blog
</a>  <header class="mb-12"> <h1 class="text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white mb-4 leading-tight"> Initial Delay Kubernetes </h1> <div class="flex items-center gap-3"> <p class="text-sm font-bold text-blue-600 dark:text-blue-400 uppercase tracking-wider"> January 17, 2025 </p> <span class="text-slate-300 dark:text-slate-700">•</span> <p class="text-sm text-slate-500 dark:text-slate-400 italic">
By Yudi Yuswita Sunarto </p> </div> </header> <div class="prose prose-slate lg:prose-xl max-w-none dark:prose-invert prose-headings:text-slate-900 dark:prose-headings:text-white prose-a:text-blue-600 dark:prose-a:text-blue-400 hover:prose-a:text-blue-700 dark:hover:prose-a:text-blue-300"> <article><p><img src="https://img.freepik.com/free-photo/clock-is-ticking-time-management-concept-with-clock-gray-background-top-view-hands-holding-magnifier-horizontal-image_176474-6600.jpg?t=st=1737111756~exp=1737115356~hmac=643f6fb022880aab9d056bc50f1deecc4f03fd09034b8e922cde1cf9a4498a77&w=1380" alt="timing"/></p><h3 id="why-initial-delay-seconds-matter-in-kubernetes">Why Initial Delay Seconds Matter in Kubernetes</h3><p>Hello, everyone! Long time no see huh. Today, I want to talk about a small but important feature in Kubernetes: <strong>initialDelaySeconds</strong>. It’s one of those settings that can save you from a lot of headaches if you understand and use it correctly.</p><h4 id="what-is-initialdelayseconds">What is <code>initialDelaySeconds</code>?</h4><p>When deploying an application in Kubernetes, you’ll often define liveness and readiness probes. These probes are used by Kubernetes to check if your application is healthy and ready to serve traffic.</p><ul><li><strong>Liveness probe</strong> ensures your app is running.</li><li><strong>Readiness probe</strong> ensures your app is ready to handle requests.</li></ul><p>But here’s the catch: your app might need some time to initialize when it starts. Maybe it’s loading configurations, setting up connections, or warming up caches. If Kubernetes starts checking the probes too early, it might think your app is unhealthy and restart it unnecessarily. That’s where <code>initialDelaySeconds</code> comes in.</p><h4 id="why-you-should-use-it">Why You Should Use It</h4><p><code>initialDelaySeconds</code> defines how long Kubernetes should wait before running the first probe after starting a container. Here are a few reasons why it’s crucial:</p><ol><li><p><strong>Avoid false failures:</strong> Without an initial delay, Kubernetes might think your app is failing simply because it’s not ready yet.</p></li><li><p><strong>Smooth start-up process:</strong> You don’t want your app to get into a restart loop just because it needs a few extra seconds to initialize.</p></li><li><p><strong>Better user experience:</strong> By ensuring your app is ready before it starts serving traffic, you avoid errors for end users during the start-up phase.</p></li></ol><h4 id="example-configuration">Example Configuration</h4><p>Here’s an example of how to set <code>initialDelaySeconds</code> in your deployment YAML:</p><pre data-language="yaml">livenessProbe:
  httpGet:
    path: /healthz
    port: 8080
  initialDelaySeconds: 10
  periodSeconds: 5

readinessProbe:
  httpGet:
    path: /readiness
    port: 8080
  initialDelaySeconds: 15
  periodSeconds: 5
</pre><p>In this example:</p><ul><li>The <strong>liveness probe</strong> starts checking the app’s health 10 seconds after the container starts.</li><li>The <strong>readiness probe</strong> waits 15 seconds before checking if the app is ready to serve requests.</li></ul><h4 id="best-practices">Best Practices</h4><ol><li><p><strong>Understand your app’s startup behavior:</strong> Test and observe how long your app typically takes to initialize.</p></li><li><p><strong>Don’t set arbitrary delays:</strong> Be realistic. Setting an unnecessarily long delay could slow down the deployment process.</p></li><li><p><strong>Combine with other probe settings:</strong> Use <code>periodSeconds</code> and <code>failureThreshold</code> to fine-tune how often Kubernetes checks and what defines a failure.</p></li></ol><h4 id="conclusion">Conclusion</h4><p>Using <code>initialDelaySeconds</code> might seem like a small detail, but it’s a critical one for ensuring smooth deployments and healthy applications in Kubernetes. So next time you’re configuring probes, don’t skip this setting!</p><p>Thanks for reading! If you have questions or want to share your experiences, feel free to leave a comment. See you in the next post!</p></article> </div> </article>  </div> </main> </body></html>